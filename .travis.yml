language: java
dist: trusty
jdk:
  - oraclejdk8

sudo: false
install: true

notifications:
  email: false

branches:
  only:
  - master
  - development

deploy:
  - provider: script
    script: bash scripts/deploy-snapshot.sh
    on:
      branch: development

env:
  global:
    - secure: "OYtFWdicTAmVwIgycqbInKFPix+dh88M6PWGjscXBMXaOpFcCAFZORWInKgHTChLcTIkiqi5AHeQE6SvYE89Cls2g6IBRhhe3GwUg9du4vI/scG80u5jalC8uGe+v4UTCNWdGMO7tSlayV/VwBdBfPfEsiVBeOW1YF6htOdA7ID3cs6vs3FxY0VItKgqnb+LIKCSBRmlG0TQcjD84vYR2JHRCxnEugsq+1YxtZTWnF0AmcZAAXLLzkak3kGGH7BMqVm7LA2gaEpKdB/TmWfOoFAGNVRqVYmHL/iVjbBpTmvQe3nm7K2JbfkummTymlNoGTNOxmnpm+NDiV2mS4X6Wig9QuzchR5mbKDSkpvFNTR5NqR90Rx1h/tP0JkPkz4dV8icQBO4BD8bjoTG8dJEFNNYmPbgJGvY6FJs/JimxdMIJlQLsjJGezppn2oW/OwM+AchwPM/TaqYYj6W0m7gAqrEQ7AwNZzeRP1LYWiLRlsovcOlaDHWmJy9ppcBXTMLyBS8dCfWXZ6rC89zmm2aXvLv5shJ9FfVdh9kEo42xnHvMAUgenOpLcVH1lHC1BDjJffBtu+KECRAj/3nXYUySRF8yH0UhP1TGGslV1t9mZyUwbQds07Lh2puH3FZ89ONoMxVA/Xqm9JX19p+benYHUqUjEf1kYjxrLF0MtNW/d4="
    # ^^ SONAR_TOKEN
    - secure: "AZD0MHVtwA53OjcVkZpMHNzlyThC8z++isY9TXhslmmvPqeg6AOIio+LrnRnFqp7Vl3Km1NLzSsOkeagOjT97UNjXOextHkJ81jrYL2MRhGr0f3jJZMTciXlcYZyD740ahomx9gJz3C3m/nCjuZawLPbEMECwr37mmM+pjPCEW29Smjzi5xCywr9j4gbXEPu5hWSK17+H2ztoCIv579E89PFPIxvFbZSdR5ILS9sw7YL7mWC1JvVq0FsRI36WJKUCRacmzeO4fX+aZJPrjlLzbIn4zD9Jy4wjLNpYjMFAuBTOe5B/0asLc4EDZJWQjUK37a7MG62bKxqqIgr14Xbo616hQe8K671d2dhWAT9mCPIVRECrq15/gH50Qgm2jkA24V6L+HndjBC96IUWgzDQDx2qQ4cBUympU1ZHfFKKVQyi6Fn3wCG5sbcNHWvj0kAv8xZp05YdJNWim6GwrL6AtTly74GA+LOdrpyt9igyzRgjkP4cTzlSCiubRHv0ipKd6y0jg7p05pTUfF6rhqy1y/tvCc11RQpmcDwXfYDkyvBYUbunm2cMbgx0Yf5fkL6fb4/lbp+FD52Bjlxdl6VfUB6g2oJ0rYAezDst0FwPVG+6vjYdQViTlPxu2tWbLLoK5J3KTyChcqdSOGlMnGvQpOeoN771xo5rNc6dkZ08j0="
    # ^^ GITHUB_USERNAME
    - secure: "EGs3RNW5qJH77KSimHlMEcaD7xgSvJY5Bd+CLAxa9KPqExUPPzE61QP+9TTjkKK4br3BA246rSxliwYGXE1F4YXRDFKRAQdGZzdMIAEayic4VkZFR0ZsWBEH5h6593ThWrzNKoZae1dgc/zxuR7FKJo1ukVbl5iNzb5eUNTaWvRSxK1xMu9gOoTBftayj96tKl2Tuzuhf16/OPsefXC3F8Iw0mybLum163KFZeK3esA5lNex+whk/pHWyDzOpMEsYHFRC5ZqsRrieUIDy7dHwd3/ogSeSUkgtsOXu+TTOFb5SnL6ljbB232kQHSrAvHjAv2wKSta9Z2OPMqwVNBSMUG24l9gI18k6+4SOc+E4t9oau9JQdMdKgjJLqi5nRdcrc3hoFMnLg9CATJ6K9LKreFO+brACwY3AzXp61ezczS2OKbmbVn2KlMg7Yeb07ot/RyHBx1bHIA5wgkqBIfXEsRcLVuNXNn7ZLaN5CvOKIpDZ8ii35Pzrd3BNYT/2f27cZ4qy3rG5ylneaW8Q0B2hocbqUjlJIufwiopjy+TYUyuYJoiySNF5hMHM0xkxwGCp8xZN8w/xCvWZS7l+HvJQtx0R55K0Cm2oHDOnsmNM43AQ0U0AfPl6V07xOMsBw7kXBXSDl96yvSaBd84DaRk0Wt3l2WrKcd8+wawi2e6n2k="
    # ^^ GITHUB_ACCESS_TOKEN
    - secure: "jrCug/zwkQdqM5SDHNtvfgBcAgyNSGqdsjJTqrMRZ5lXNFISP3fwird/vtBcUSKMhnOBCpWIga4s0Xx7PTogPVSUa4RHiueGuIQHAuVpt7mzZCIKSBbr04F4LuEqPCrMK+rkGCmGeZU+N9Gykt2OE9Ir1YstbG4ePekbacBx4Ja3oQgc84JfwScefeAi/dYLrbj0chcm1PGqTqnWnaN0Xmsm+Ww5HS/Fq5ssuV6qM8xcwbaPiTuGOcSyJ1D9kgHevRJ9Jq31nFqGu75vTGCwlxd+twIGF8J/TRCC7fEgrxsANKWOByf4CekVK8uA+5adHe5eQArvmiQqvYBugjgaLzopv8W93wc8CN97RX5+tg7N0SlYC3KQUIBTCXrxC9+QawkDnkAvtrRpGc5W9kImhvhgA9vEa5pMKLpB9IJzIrkG3Cxdh5TpzkvsDK8usvn+ULyq6Iq0tTBKTj2mpeF+VfWjWdOCXn7R8TJDG0UZzdOTBDLd8kNszaqTD/m8CcqxUe3xG5TVAlX0fCd2o8u5gt0JbRawtbUk3jITYzk5mxljaDBTYIAKsIp6GXxpo/DqjeOaVEYWPijS0YJ76+TVYiTFkfl/WPBjmy86CcmAnq09sf0V9YXq0WNIklF7iQuyq/3MaIztwuWQXv+OCGryjmhahKd8b+W9NrRO6xCZl54="
    # ^^ OSSRH_JIRA_USERNAME
    - secure: "B/jmkqR+e8Vm3CGBlm9sV111pI1WWQha5kCxzMDaisvjfs/pfMVrECX41HKGqmlFVaXFBkJyH35RBMhYGBptrxN3XaeVWHPp0g39U482dbt9e+LFO9RRSr9uQqqclPpvHkjBwDTmo/HG85mx4uUOhiABZrUtZQjPg1Ua5YD6bImI0lPmyng8txf7WNT2bxsgKIBkc2Dh+JCZl2hc+aQ8Zc3VjVATHQ/LFM5WtCYWe/TJ6PI42NNpEd5kxVFkvy6Aa3nvxPTfLvQPNJwZhoBM1Hv1LGgpxuklk1xZAJBnoONAgK20ScKmBU5gngJpTUbNQdRZaMhXF3qfrtlgp5qPT+QptoCQPZQA0PQwVyEcL0JlSyZ0lpGxPpB4L6Z2CKycyZ8upZPbxLSjkRZPzGVQwEnmcVY9iCmsTs7eD6+IBcpOc/UVMuagN1g2eKi0gaGOgUKe0rQKpbwqpbPfLoj4zThMn/IcCiVRaVOt6Ux9JWxhhNZHT+xSFvfd5PLtQLJzhcxIp3nDb0seXyWxmFSkIctm6qitPWg1HUwIKje5sfDNCZQkOG+RpnH/nMrzTNYpEKrVQCPZhmuPY3ppkJyQljKE2yI3B13qjZkNx/0An65Y2rX495GNVozSEos4zrn4ey+ywEl/xR4LJOq7iymgaVkMKp0k5X5zl1qHwc9xHYo="
    # ^^ OSSRH_JIRA_PASSWORD
    - secure: "RGTHPlF64Yrk737c/1Iw2CnAHAukmRHTZhR3cqoGn5ksw2rK2+PHj5R3yAqVHKNdbdvA7Gr+Gj1K6ufGGcAFx5prtB1cZ/1Bz/XdO67sOhBLywEUC2aVNh3Jz//zRVe32yVnMO3h83NnUI4zNRrUlUrSSKh7HcGUuIHCdpX1q+7n5GFxKg1KjpDvqlf2FhJK9bo2HN5I5GHeNCyk5HONvr8TnWG90jJejgDhPz9Qf4H5O2XHDQrQC2tQF3sYwd77+B0aVgWbR4WtZ1STYB7Xaj59v9FWqGdI4CLFnfrrqbIstQWaSukpXmeuPsiHHW5STWH2vSYJO+A2RpBNtYQ9kVkbmYUqo23dELYAps4mD/1dHaoqoiRMdL4t00ZjlUAxvwweSjmdXnaOEKqHchujWFN0pVJw39CZ3J5x67nULEfWCy568yOZJhVHM4lahlypve6nd5kWG+ZLCNUxxmfh8LXtM+eLOIGAOXaNz5CvATFDyDCWO3Go5J6wV3KlLnM/AuH8QwxJQbOWys538DXKI5B9UuOH7xoz59BHI5I8GYt15m0h5QGHvWQDNNWEbCP2iLwkAuIdJC65zzRjL9qvbjfx/5n9ilx5g8xhQIEDq6+V/r+4EaWKu3MYyJvus958I1S5WKUIchsLag0xlHi3exGpSGypjljDAQMYdW9+6dA="
    # ^^ GPG_KEY_NAME
    - secure: "CpXGvxx8L/IyjnKnxUd9eUwDu3VCu9wJGgAH3hf0EyrNB4/kCgSwmf+0y3iSlhyVhciqb4dRclLAvH3//rCo/vcvDfFV6Fz786KV4KFeQ19lqqSfvXajI3fimzH5zfl5g3g6cfr9Lk6QJhoMbt5+m0YKHt16unP0w3SX4L4C569FcJ3OvluoONoUrREPINUusiTl4Ip3Ujm3LunwSEUlXPp7/BIEJoXzMX3Am9DF2AtoGWLn18Fg4w65HPsjwahXGHfUi74C+rlpiXevl8nyTXqs0T2NPy0sarXwGWDVE/L3SXXiLOgqeZMSgtL3HrKCmm+6XP97WBYcMcn4rFnccyTzz0GWjYW+0gk6pf9PQg2ZcKAKXN0DzRpPmOzTiRJRauAJV2lD6rGtL4Px+S7SWajqsIO8g+8NBC+A/FRHN8rAgLSq2DAdVnBKxzOVcrGvudgHCB1pMItjmMZOx8+JCGC3Vdo8z6rQAyooPqKHfvLW2l551y0FCxkNVwugw8nOEcjmMt9bKNAKeGLJLuveJye4WRQwZK4gmhOQ9I42++A0G6U57rzLSF14GY4DId5aSiChNaWf8ow4H0QZnRUEAnFYh4TnAxr60kde26QKk99RqZQx5zQHqKetfskdcO2MjhiMYkahRatk1rZRVRM5NH1pB0r0FAunh6GtsB8IBF0="
    # ^^ GPG_PASSPHRASE

before_script:
  - git clone https://${GITHUB_USERNAME}:${GITHUB_ACCESS_TOKEN}@github.com/mirioeggmann/tbmelabs-deploy-certificates.git
  - gpg --fast-import tbmelabs-deploy-certificates/tbmelabs-deploy-key.asc
  - cp .travis.settings.xml $HOME/.m2/settings.xml

script:
  - mvn clean verify

after_script:
  - rm -rf tbmelabs-deploy-certificates

cache:
  directories:
    - "$HOME/.cache"
    - '$HOME/.m2/repository'
